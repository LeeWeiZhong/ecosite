<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Articles</title>
    <link rel="stylesheet" href="style.css">

    <link href="http://fonts.cdnfonts.com/css/bookman-old-style" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
        document.onkeydown = function (e) {
            if (event.keyCode == 123) {
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) {
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) {
                return false;
            }
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) {
                return false;
            }
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
                return false;
            }
        }

        emailBody =  
            "Hello there, <br> <br>" +
            "&emsp; Thank you for signing up for Ecosite's newsletter! You can view it <a href = 'https://drive.google.com/file/d/1W1L4QG_IArGhIH_yG9ouLTwUZd8HnhC6/view?usp=sharing'>here</a>. <br> <br>" +
            "From Ecosite Team"
        emailsubject = "Thank you for signing up for EcoSite Newsletter!"

        function sendEmail()
        {
            var email = document.getElementById("newsletter-popup-input").value;
            // var email = document.getElementByName("email-input").value;
            Email.send
            (
                {
                    Host: "smtp.gmail.com",
                    Username: "ecositenewsletter@gmail.com",
                    Password: "(8F*Ep8rh94$",
                    To: email,
                    From: "ecositenewsletter@gmail.com",
                    Subject: emailsubject,
                    Body: emailBody,
                }
            ).then
            (
                message => result
            );

            if (result = "OK")
            {
                document.getElementById("newsletter-popup-description").innerHTML = "Please check " + email + "'s inbox"
            }
        }
    </script>
</head>

<body id="articles-body" class="main-body" oncontextmenu="return false">
    <header class="top-bar">
        <h1 class="main-title">
            ECOSITE
        </h1>

        <a class="home-button" href="index.html"><img class="home-button-icon" src="images/home-icon.png"></a>

        <div class="hamburger-button"><img class="hamburger-button-icon" src="images/hamburger-bar.png"></div>

        <nav class="hamburger-menu">
            <button onclick="window.location.href='articles.html'" class="hamburger-link hamburger-articles-link">Articles</a>
            <button onclick="window.location.href='ecoChat.html'" class="hamburger-link hamburger-ecoChat-link">EcoChat</a>
    </header>

    <header class="bottom-bar articles-bar">
        <h1 class="bar-title">
            Articles
        </h1>
    </header>

    <section class="main-content articles-main-content">
        <nav class="articlePanels-container">
            <button id="article-panel-newsletter" class="articlePanel articlePanel-other">
                <span class="articlePanel-title">Sign up to the newsletter.</span> <br>
                <span class="articlePanel-description">Be the ones to recieve our monthly articles first and coupons as well!</span>
            </button>

            <button class="articlePanel articlePanel-article" onclick="window.location.href='#'">
                <img class="articlePanel-thumbnail" src="images/index-image-2.jpg">
            </button>

            <button class="articlePanel articlePanel-other" onclick="window.location.href='articles-archive.html'">
                <span class="articlePanel-title">Articles <br> Archive</span> <br>
                <span class="articlePanel-description">Read all our previous & latest articles here.</span>
            </button>

            <button class="articlePanel articlePanel-article" onclick="window.location.href='#'">
                <img class="articlePanel-thumbnail" src="articles/article-images/unknown-article.jpg">
            </button>
        </nav>
    </section>

    <section id="newsletter-popup-container">
        <button id="newsletter-popup-close-button">X</button>
        <h1 id="newsletter-popup-title">Articles and latest news on Sustainability | monthly discount coupons to sustainable businesses</h1>
        <h2 id="newsletter-popup-description">Sign up for out monthly newsletters to receive our articles earlier!</h2>
            <input id="newsletter-popup-input" name = "email-input" type="email" placeholder="Enter your email here" autocomplete="off" />
            <button id="newsletter-popup-submit-button" onclick="sendEmail()">Submit</button>
    </section>
</body>
</html>

<script type="text/javascript" src="hamburgerJS.js"></script>
<script type="text/javascript" src="newsletter-popup.js"></script>